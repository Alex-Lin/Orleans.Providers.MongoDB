<OrleansConfiguration xmlns="urn:orleans">
  <Globals>
    <!--
    There is currently a known issue with the "Custom" membership provider OrleansConfiguration.xml configuration file that will fail to parse correctly. For this reason you have to provide a placeholder SystemStore in the xml and then configure the provider in code before starting the Silo.
    -->
    <SystemStore SystemStoreType="None" DataConnectionString="mongodb://admin:pass123@localhost:27017/Orleans?authSource=admin" DeploymentId="OrleansTest" DataConnectionStringName="Test" />
    
    <StorageProviders>
      <!--Standard MongoProvider-->

      <!--Switching the serialization type while there is data in the storage collections will lead to data loss.-->
      <Provider Type="Orleans.Providers.MongoDB.StorageProviders.MongoDBStorage" Name="MongoDBStore" Database="" ConnectionString="mongodb://admin:pass123@localhost:27017/Orleans?authSource=admin" UseJsonFormat="true"/>
      <!--Custom StorageProvider that adds OrleansStorage Prefix to each collection-->
      <!--<Provider Type="Orleans.Providers.MongoDB.Test.Host.CustomStorageProvider.MongoDBStorageWithOrleansPrefix" Name="MongoDBStore" Database="" ConnectionString="mongodb://admin:pass123@localhost:27017/Orleans?authSource=admin" />-->
    </StorageProviders>
    
    <!-- SqlServer Providers
    
    <SystemStore SystemStoreType ="SqlServer"
               DeploymentId="OrleansTest"
               DataConnectionString="Data Source=(localdb)\MSSQLLocalDB;Initial Catalog=Orleans;Integrated Security=True;Pooling=False;Max Pool Size=200;Asynchronous Processing=True;MultipleActiveResultSets=True" AdoInvariant="System.Data.SqlClient" />
    -->
    
    <StatisticsProviders>
      <!--<Provider Type="Orleans.Providers.SqlServer.SqlStatisticsPublisher" Name="MySQLStatsProvider" ConnectionString="Data Source=(localdb)\MSSQLLocalDB;Initial Catalog=Orleans;Integrated Security=True;Pooling=False;Max Pool Size=200;Asynchronous Processing=True;MultipleActiveResultSets=True" />-->
      <Provider Type="Orleans.Providers.MongoDB.Statistics.MongoStatisticsPublisher" Name="MongoStatisticsPublisher" ConnectionString="mongodb://admin:pass123@localhost:27017/Orleans?authSource=admin" />
    </StatisticsProviders>

    <!--<SeedNode Address="localhost" Port="11111" />-->
  
  </Globals>
  <Defaults>
    <Networking Address="" Port="11111"/>
    <ProxyingGateway Address="" Port="30000"/>
    <!--SqlServer Providers-->
    <Statistics ProviderType="MongoStatisticsPublisher" MetricsTableWriteInterval="10s" PerfCounterWriteInterval="5s" LogWriteInterval="5s" WriteLogStatisticsToTable="true" />
  </Defaults>
</OrleansConfiguration>